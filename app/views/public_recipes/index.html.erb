<div class="container mx-auto">
    <h1 class="text-center m-4 py-4 text-5xl font-medium">Public Recipes</h1>
    <ul class="flex flex-col gap-4">
      <% @recipes.each do |recipe| %>
        <li class="block p-6 max-w-xlg bg-white rounded-lg border border-gray-200 shadow-md hover:bg-gray-100 dark:bg-gray-800 dark:border-gray-700 dark:hover:bg-gray-700 m-2">
          <%= link_to recipe_path(recipe.id), class: " grid grid-cols-2 gap-y-4 justify-items-center" do  %>
            <h3 class="text-3xl hover:opacity-60"><%= recipe.name %></h3>
            <h3>Total food items: <span class="font-bold"><%= recipe.foods.count %></span></h3>
            <h3>by <span class="font-bold text-xl"><%= recipe.user.name %></span></h3>
            <h3>Total price: <span class="font-bold"> $<%= recipe.recipe_foods.includes(:food).map {|r| r.food.price.to_i * r.quantity.to_i }.sum %></span></h3>
          <% end %>
        </li>
      <% end %>
    </ul>
</div>